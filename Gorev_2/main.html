<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DTMF Sinyal Sentezi</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <h1>DTMF Sinyal Sentezi</h1>
</header>

<div class="layout">

  <div class="top-row">

    <!-- Sol: Tuş Takımı -->
    <div style="display:flex;flex-direction:column;gap:16px;">
      <div class="card">
        <div class="card-header">
          Tuş Takımı
          <span id="statusBadge" style="font-size:0.65rem;padding:2px 8px;border-radius:20px;background:var(--bg);color:var(--muted);border:1px solid var(--border);font-weight:500;">BEKLEMEDE</span>
        </div>
        <div class="card-body">
          <div class="info-strip">
            <div class="info-item">
              <span class="lbl">Tuş</span>
              <span class="val" id="dispKey">—</span>
            </div>
            <div class="info-item">
              <span class="lbl">Durum</span>
              <span class="val" id="dispStatus">—</span>
            </div>
            <div class="info-item">
              <span class="lbl">f_low</span>
              <span class="val" id="dispLow">— Hz</span>
            </div>
            <div class="info-item">
              <span class="lbl">f_high</span>
              <span class="val" id="dispHigh">— Hz</span>
            </div>
          </div>
          <div class="keypad-grid" id="keypad"></div>
        </div>
      </div>
    </div>

    <!-- Sağ: Grafikler -->
    <div class="charts-col">

      <div class="card">
        <div class="card-header">
          <span>Zaman Uzayı — Sinüzoidal Dalga</span>
          <span class="chart-label" id="waveInfo">—</span>
        </div>
        <div class="chart-wrap">
          <canvas id="waveCanvas"></canvas>
          <div class="chart-idle" id="waveIdle">Bir tuşa basın</div>
        </div>
        <div class="legend">
          <div class="legend-item">
            <div class="legend-dot" style="background:var(--wave-low)"></div>
            f_low bileşeni
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background:var(--wave-high)"></div>
            f_high bileşeni
          </div>
          <div class="legend-item">
            <div class="legend-dot" style="background:var(--wave-sum)"></div>
            DTMF toplamı x(t)
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-header">
          <span>Frekans Uzayı — FFT Spektrum</span>
          <span class="chart-label" id="specInfo">—</span>
        </div>
        <div class="chart-wrap">
          <canvas id="specCanvas"></canvas>
          <div class="chart-idle" id="specIdle">Bir tuşa basın</div>
        </div>
        <div class="legend">
          <div class="legend-item">
            <div class="legend-dot" style="background:var(--spec-peak)"></div>
            DTMF bileşenleri
          </div>
        </div>
      </div>

    </div>
  </div><!-- end top-row -->

  <!-- Sekans Çal — Tam Genişlik -->
  <div class="card">
    <div class="card-header">Sekans Çal</div>
    <div class="card-body">
      <div class="seq-row">
        <input class="seq-input" id="seqInput" type="text" maxlength="60"
          placeholder="0-9 A B C D * #"
          value="123456789*0#">
        <button class="btn btn-primary" id="seqPlayBtn" onclick="playSequence()">▶ Çal</button>
        <button class="btn btn-ghost" onclick="stopSequence()" id="seqStopBtn" disabled>■ Durdur</button>
      </div>
      <div class="seq-progress" id="seqProgress">
        <div class="seq-progress-bar" id="seqProgressBar"></div>
      </div>
    </div>
  </div>

</div>

<div class="chart-tooltip" id="tooltip"></div>

<!-- ES6 modül olarak yalnızca app.js yüklenir; diğerleri import zinciriyle gelir -->
<script type="module" src="modules/js/app.js"></script>

</body>
</html>
